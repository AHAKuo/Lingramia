<Window xmlns="https://github.com/avaloniaui"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:views="using:Lingramia.Views"
        x:Class="Lingramia.Views.PasswordUnlockDialog"
        x:DataType="views:PasswordUnlockDialogViewModel"
        Title="Unlock Locbook"
        Width="400"
        Height="300"
        WindowStartupLocation="CenterOwner"
        CanResize="False"
        SizeToContent="Manual">
    
    <Grid Margin="25">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>
        
        <TextBlock Grid.Row="0"
                   Text="Password Required"
                   FontSize="16"
                   FontWeight="Bold"
                   Margin="0,0,0,10"/>
        
        <TextBlock Grid.Row="1"
                   Text="This locbook is password protected. Please enter the password to unlock fields."
                   FontSize="12"
                   TextWrapping="Wrap"
                   Foreground="Gray"
                   Margin="0,0,0,20"/>
        
        <StackPanel Grid.Row="2" Spacing="8" Margin="0,0,0,15">
            <TextBlock Text="Password:" FontSize="13" FontWeight="SemiBold"/>
            <TextBox Text="{Binding Password, Mode=TwoWay}"
                     PasswordChar="â—"
                     Watermark="Enter password"
                     MinHeight="35"
                     KeyDown="OnPasswordKeyDown"/>
        </StackPanel>
        
        <TextBlock Grid.Row="3"
                   Text="{Binding ErrorMessage}"
                   FontSize="12"
                   Foreground="Red"
                   TextWrapping="Wrap"
                   IsVisible="{Binding HasError}"
                   Margin="0,0,0,15"/>
        
        <StackPanel Grid.Row="4"
                    Orientation="Horizontal"
                    HorizontalAlignment="Right"
                    Spacing="10">
            <Button Content="Cancel"
                    Width="90"
                    Padding="12,6"
                    Click="OnCancelButtonClick"/>
            <Button Content="Unlock"
                    Width="90"
                    Padding="12,6"
                    Command="{Binding UnlockCommand}"
                    IsEnabled="{Binding CanUnlock}"/>
        </StackPanel>
    </Grid>
</Window>

